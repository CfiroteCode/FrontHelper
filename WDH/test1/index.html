<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="./node_modules/gridstack/dist/gridstack.css" />
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.0/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.5.0/lodash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js"></script>
    <script src="./node_modules/gridstack/dist/gridstack.js"></script>
    <script src="./node_modules/gridstack/dist/gridstack.jQueryUI.js"></script>
    <title>Web Editor</title>
</head>

<body>
    <div class="row" style=" height: 100%; margin-top: 50px;">
        <div class="column col-md-1" style=" border:1px solid red;">
            <button type="button" class="btn btn-primary add">add</button>
        </div>
        <div class="1"></div>
        <div class="column col-md-1 sidebar" style=" border:1px solid red;">
            <div class="icon grid-stack-item">
                <div class="card text-white bg-primary grid-stack-item-content" data-gs-width="3" data-gs-height="3" style="overflow-x: hidden; overflow-y: hidden;">
                    <div class="card-header">
                        <h4>Article</h4>
                    </div>
                    <div class="card-body">
                        <p class="card-text">Lorem ipsum dolor sit amet.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="icon">

        </div>
        <div class="column col-md-8" style="border:1px solid red; height: 800px">
            <div class="grid-stack" id="grid1"></div>
        </div>
    </div>



    <script type="text/javascript">
        $(function () {
            var options = {
                width: 12,
                float: false,
                acceptWidgets: '.grid-stack-item',
                auto :false,
                cellHeight: auto,
                removable : true,
            };
            $('#grid1').gridstack(options);

            $('.sidebar .grid-stack-item').draggable({
                revert: 'invalid',
                handle: '.grid-stack-item-content',
                scroll: false,
                appendTo: 'body',
            });

            sidebar = $('.sidebar');
            addButton = $('.add');

            addButton.on('click', function () {

                sidebar.empty();
                sidebar.append('<div class="icon grid-stack-item"><div class="card text-white bg-primary mb-3 grid-stack-item-content" data-gs-width="3" data-gs-height="3" style="overflow-x: hidden; overflow-y: hidden;"><div class="card-header"><h4>Article</h4></div><div class="card-body"><p class="card-text">Lorem ipsum dolor sit amet.</p></div></div></div>');
                $('.sidebar .grid-stack-item').draggable({
                revert: 'invalid',
                handle: '.grid-stack-item-content',
                scroll: false,
                appendTo: 'body',
            });
            })

        });


    </script>
</body>

</html>